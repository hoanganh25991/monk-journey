<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="ScreenOrientation" content="autoRotate:disabled">
    <title>Monk Journey</title>
    <link rel="stylesheet" href="css/main.css">
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#000000">
    <meta name="description" content="A Diablo Immortal inspired game featuring a monk character">
    <meta name="orientation" content="landscape">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="images/logo-192.png">
    <link rel="apple-touch-icon" href="images/logo-192.png">
    <!-- Import Three.js from CDN -->
    <script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.176.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.176.0/examples/jsm/"
            }
        }
    </script>
</head>

<body>
    <div id="orientation-message">
        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
            <rect x="5" y="2" width="14" height="20" rx="2" ry="2" />
            <path d="M12 18h.01" />
        </svg>
        <p>Please rotate your device to landscape mode for the best experience</p>
    </div>

    <div id="game-container">
        <!-- Game Canvas -->
        <canvas id="game-canvas"></canvas>
    </div>

    <!-- Game UI will be dynamically created by HUDManager -->

    <!-- Main script module -->
    <script type="module" src="js/main.js"></script>

    <!-- Update Notification -->
    <div id="update-notification"
        style="display: none; position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background-color: rgba(0, 0, 0, 0.8); color: white; padding: 10px 20px; border-radius: 5px; z-index: 1000; text-align: center;">
        <p style="margin: 0 0 10px 0;">New version available!</p>
        <div class="loading-bar"
            style="height: 5px; width: 100%; background-color: #333; border-radius: 2px; overflow: hidden;">
            <div id="loading-progress"
                style="height: 100%; width: 0%; background-color: #4CAF50; transition: width 0.3s;"></div>
        </div>
        <p id="update-status" style="margin: 10px 0 0 0; font-size: 0.9em;">Updating...</p>
    </div>

    <!-- Orientation Lock -->
    <script src="orientation-lock.js"></script>

    <!-- Service Worker Registration -->
    <script src="service-worker-registration.js"></script>
</body>

</html>